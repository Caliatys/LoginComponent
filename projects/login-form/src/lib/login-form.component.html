<mat-tab-group id="caliatys-login-form" [selectedIndex]="selectedTab">
  <mat-tab label="login-form">
    <form (ngSubmit)="onClickLogin()" [formGroup]="formGroup">
      <div class="row no-gutters">
        <div class="col">
          <div class="row no-gutters">
            <div class="col">
              <!-- NOTE: Login -->
              <mat-form-field class="w-100">
                <div matPrefix class="mr-2" *ngIf="iconUserOnLoginForm">
                  <mat-icon class="align-bottom">person</mat-icon>
                </div>
                <input matInput formControlName="login" 
                  name="username" autocomplete="username" 
                  placeholder="{{ loginLabels.loginLabel }}" 
                  type="text"/> <!-- TODO: switch / case : email, phone, none -->
                <button *ngIf="formGroup.controls.login.valid && btnClearUserOnLoginForm" 
                  mat-button matSuffix mat-icon-button aria-label="Clear" 
                  color="primary" (click)="formGroup.controls.login.setValue('')" 
                  type="button">
                  <mat-icon>close</mat-icon>
                </button>
                <!-- NOTE: Error message(s) -->
                <mat-hint align="start" *ngIf="formGroup.controls.login.errors?.required && errOnLoginForm">
                  {{ loginLabels.fieldRequiredLabel }}
                </mat-hint>
                <mat-hint align="start" *ngIf="formGroup.controls.login.errors?.pattern && errOnLoginForm && userPolicy === userPolicies.EMAIL">
                  {{ loginLabels.fieldEmailLabel }}
                </mat-hint>
                <mat-hint align="start" *ngIf="formGroup.controls.login.errors?.pattern && errOnLoginForm && userPolicy === userPolicies.PHONE">
                  {{ loginLabels.fieldPhoneLabel }}
                </mat-hint>
                <mat-hint align="start" *ngIf="formGroup.controls.login.errors?.pattern && errOnLoginForm && userPolicy && userPolicy !== userPolicies.EMAIL && userPolicy !== userPolicies.PHONE">
                  {{ loginLabels.fieldCustomLabel }}
                </mat-hint>
              </mat-form-field>
            </div>
          </div>
          <div class="row no-gutters">
            <div class="col">
              <!-- NOTE: Password -->
              <mat-form-field class="w-100">
                <div matPrefix class="mr-2" *ngIf="iconPassOnLoginForm">
                  <mat-icon class="align-bottom">lock</mat-icon>
                </div>
                <input matInput formControlName="password" 
                  name="password" autocomplete="password" 
                  placeholder="{{ loginLabels.passwordLabel }}" 
                  type="{{ showPassword ? 'text' : 'password' }}"/>
                <button *ngIf="btnShowPassOnLoginForm" 
                  mat-button matSuffix mat-icon-button aria-label="Clear" 
                  color="primary" (click)="showPassword=!showPassword" 
                  type="button">
                  <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
                <!-- NOTE: Error message -->
                <mat-hint align="start" *ngIf="formGroup.controls.password.errors?.required && errOnLoginForm">
                  {{ loginLabels.fieldRequiredLabel }}
                </mat-hint>
              </mat-form-field>
            </div> 
          </div>
          <div class="row no-gutters pb-3">
            <div class="col text-left">
              <button mat-button (click)="forgottenPassword()" color="primary" class="small" type="button">
                {{ loginLabels.forgottenPasswordLabel }}
              </button>
            </div>
            <div class="col text-right">
              <button mat-raised-button type="submit" color="primary" [disabled]="!formGroup.valid" class="small text-uppercase">
                {{ loginLabels.signInLabel }}
              </button>
            </div>
          </div>
          <div class="row no-gutters">
            <div class="col text-center">
              <!-- NOTE: Google -->
              <div class="d-block mb-3" *ngIf="socialButtons.google">
                <button mat-raised-button type="button" class="mat-raised-button cal-btn google {{ theme }}" (click)="onClickLoginSocial('google')">
                  <span class="cal-bg-icon">
                    <mat-icon class="align-middle cal-icon" svgIcon="google"></mat-icon>
                  </span>
                  <span class="cal-label">{{ loginLabels.googleSignInLabel }}</span>
                </button>
              </div>
              <!-- NOTE: Facebook -->
              <div class="d-block" *ngIf="socialButtons.facebook">
                <button mat-raised-button type="button" class="mat-raised-button cal-btn facebook" (click)="onClickLoginSocial('facebook')">
                  <span class="cal-bg-icon">
                    <mat-icon class="align-middle cal-icon" svgIcon="facebook"></mat-icon>
                  </span>
                  <span class="cal-label">{{ loginLabels.facebookSignInLabel }}</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </mat-tab>
  <mat-tab label="pass-form" *ngIf="formLayouts | existsLayout: layouts.TAB">
    <!-- NOTE: Tab form -->
    <cal-tab-wrapper 
      [formType]="formType" 
      [isFirst]="isFirst" 
      [code]   = "code" 
      [qrCode] = "qrCode" 
      [headerLabels]="headerLabels" 
      [passLabels]="passLabels" 
      [passPolicies]="passPolicies" 
      [errOnPassForm]="errOnPassForm" 
      [errOnMfaForm]="errOnMfaForm" 
      [btnShowPassOnPassForm]="btnShowPassOnPassForm" 
      [btnClearCodeOnPassForm]="btnClearCodeOnPassForm" 
      [mfaSetupLabels]="mfaSetupLabels" 
      [mfaLabels]="mfaLabels" 
      [btnClearCodeOnMfaForm]="btnClearCodeOnMfaForm" 
      (sendCloseTab)="onClickCloseTab($event)" 
      (relayFirstLog)="tabFirstLog($event)" 
      (relayLostPass)="tabLostPass($event)" 
      (relaySaveMfaKey)="tabSaveMfaKey($event)" 
      (relaySendMfaCode)="tabSendMfaCode($event)">
    </cal-tab-wrapper>
  </mat-tab>
</mat-tab-group>